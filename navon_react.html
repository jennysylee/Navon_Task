<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navon Task Experiment</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .stimulus-display {
            font-size: 180px;
            font-weight: bold;
            line-height: 0.9;
            letter-spacing: -5px;
            color: #000;
        }
    </style>
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@^19.2.3",
        "react-dom/client": "https://esm.sh/react-dom@^19.2.3/client"
      }
    }
    </script>
</head>
<body class="bg-gray-900 text-white overflow-hidden">
    <div id="root"></div>

    <script type="module">
        import React, { useState, useEffect } from 'react';
        import ReactDOM from 'react-dom/client';

        const NavonTask = () => {
            // Stimulus configurations - H and S as target letters
            const stimuliConfig = [
                // Global target: H
                { id: 'HS', global: 'H', local: 'S', level: 'global', target: 2, correctKey: 'B' },
                { id: 'HX', global: 'H', local: 'X', level: 'global', target: 2, correctKey: 'B' },
                { id: 'HY', global: 'H', local: 'Y', level: 'global', target: 2, correctKey: 'B' },
                // Local target: S
                { id: 'SH', global: 'S', local: 'H', level: 'local', target: 1, correctKey: 'B' },
                { id: 'SX', global: 'S', local: 'X', level: 'local', target: 1, correctKey: 'B' },
                { id: 'SY', global: 'S', local: 'Y', level: 'local', target: 1, correctKey: 'B' },
                // No target: X
                { id: 'XH', global: 'X', local: 'H', level: 'none', target: 0, correctKey: 'N' },
                { id: 'XS', global: 'X', local: 'S', level: 'none', target: 0, correctKey: 'N' },
                { id: 'XY', global: 'X', local: 'Y', level: 'none', target: 0, correctKey: 'N' },
                // No target: Y
                { id: 'YH', global: 'Y', local: 'H', level: 'none', target: 0, correctKey: 'N' },
                { id: 'YS', global: 'Y', local: 'S', level: 'none', target: 0, correctKey: 'N' },
                { id: 'YX', global: 'Y', local: 'X', level: 'none', target: 0, correctKey: 'N' }
            ];

            // State management
            const [section, setSection] = useState('entry'); // entry, instruction, trial, results
            const [participantId, setParticipantId] = useState('');
            const [idError, setIdError] = useState('');
            const [trials, setTrials] = useState([]);
            const [currentTrialIndex, setCurrentTrialIndex] = useState(0);
            const [trialData, setTrialData] = useState([]);
            const [feedback, setFeedback] = useState('');
            const [responseGiven, setResponseGiven] = useState(false);
            const [trialStartTime, setTrialStartTime] = useState(0);
            const [stats, setStats] = useState({});

            // Generate trial sequence
            const generateTrials = () => {
                let generatedTrials = [];
                let stimulusPool = [...stimuliConfig];
                
                while (generatedTrials.length < 50) {
                    if (stimulusPool.length === 0) {
                        stimulusPool = [...stimuliConfig];
                    }
                    const randomIndex = Math.floor(Math.random() * stimulusPool.length);
                    generatedTrials.push(stimulusPool[randomIndex]);
                    stimulusPool.splice(randomIndex, 1);
                }
                
                return generatedTrials.slice(0, 50);
            };

            // Validate participant ID
            const validateParticipantId = (id) => {
                return /^\d{3}$/.test(id);
            };

            // Start experiment
            const startExperiment = () => {
                if (!validateParticipantId(participantId)) {
                    setIdError('Please enter exactly 3 digits (0-9)');
                    return;
                }
                setIdError('');
                setTrials(generateTrials());
                setSection('instruction');
            };

            // Start trials
            const startTrials = () => {
                setCurrentTrialIndex(0);
                setTrialData([]);
                setSection('trial');
                presentTrial(0, generateTrials());
            };

            // Generate stimulus display
            const generateStimulusDisplay = (globalLetter, localLetter) => {
                return (
                    React.createElement('div', { className: 'flex flex-col items-center' },
                        React.createElement('div', { className: 'stimulus-display', style: { fontSize: '180px' } },
                            localLetter + localLetter + localLetter
                        ),
                        React.createElement('div', { className: 'text-sm text-gray-500 mt-2' },
                            `Large: ${globalLetter} | Small: ${localLetter}`
                        )
                    )
                );
            };

            // Handle key press
            useEffect(() => {
                if (section !== 'trial' || responseGiven) return;

                const handleKeyPress = (event) => {
                    const key = event.key.toLowerCase();
                    if (key !== 'b' && key !== 'n') return;
                    
                    event.preventDefault();
                    setResponseGiven(true);
                    
                    const trial = trials[currentTrialIndex];
                    const rt = Date.now() - trialStartTime;
                    const correct = (key === 'b') === (trial.correctKey === 'B');
                    
                    // Store trial data
                    const newTrialData = [...trialData, {
                        trialNum: currentTrialIndex + 1,
                        stimulus: trial.id,
                        global: trial.global,
                        local: trial.local,
                        level: trial.level,
                        target: trial.target,
                        targetPresent: trial.correctKey === 'B',
                        response: key === 'b' ? 'Present' : 'Not Present',
                        correct: correct ? 1 : 0,
                        rt: rt
                    }];
                    setTrialData(newTrialData);

                    // Show feedback
                    if (correct) {
                        setFeedback({ type: 'correct', message: '✓ Correct!' });
                    } else {
                        setFeedback({ type: 'wrong', message: '✗ Wrong!' });
                    }

                    // Move to next trial
                    setTimeout(() => {
                        if (currentTrialIndex + 1 >= trials.length) {
                            calculateStatistics(newTrialData);
                            setSection('results');
                        } else {
                            setCurrentTrialIndex(currentTrialIndex + 1);
                            presentTrial(currentTrialIndex + 1, trials, newTrialData);
                        }
                    }, 1500);
                };

                window.addEventListener('keydown', handleKeyPress);
                return () => window.removeEventListener('keydown', handleKeyPress);
            }, [section, responseGiven, currentTrialIndex, trialStartTime, trials, trialData]);

            // Present trial
            const presentTrial = (index, trialList = trials, existingData = trialData) => {
                setCurrentTrialIndex(index);
                setFeedback('');
                setResponseGiven(false);
                setTrialStartTime(Date.now());

                // Timeout after 4 seconds
                const timeoutId = setTimeout(() => {
                    if (!responseGiven) {
                        const trial = trialList[index];
                        const newTrialData = [...existingData, {
                            trialNum: index + 1,
                            stimulus: trial.id,
                            global: trial.global,
                            local: trial.local,
                            level: trial.level,
                            target: trial.target,
                            targetPresent: trial.correctKey === 'B',
                            response: 'Too Slow',
                            correct: 0,
                            rt: 4000
                        }];
                        setTrialData(newTrialData);
                        setFeedback({ type: 'timeout', message: 'Too Slow!' });

                        setTimeout(() => {
                            if (index + 1 >= trialList.length) {
                                calculateStatistics(newTrialData);
                                setSection('results');
                            } else {
                                setCurrentTrialIndex(index + 1);
                                presentTrial(index + 1, trialList, newTrialData);
                            }
                        }, 1500);
                    }
                }, 4000);

                return () => clearTimeout(timeoutId);
            };

            // Calculate statistics
            const calculateStatistics = (data) => {
                const correct = data.filter(t => t.correct === 1);
                const accuracy = ((correct.length / data.length) * 100).toFixed(1);
                const meanRT = (data.reduce((sum, t) => sum + t.rt, 0) / data.length).toFixed(0);
                
                const globalTrials = data.filter(t => t.target === 2 && t.correct === 1);
                const localTrials = data.filter(t => t.target === 1 && t.correct === 1);
                const noneTrials = data.filter(t => t.target === 0 && t.correct === 1);
                
                const globalRT = globalTrials.length > 0 
                    ? (globalTrials.reduce((sum, t) => sum + t.rt, 0) / globalTrials.length).toFixed(0)
                    : '—';
                const localRT = localTrials.length > 0
                    ? (localTrials.reduce((sum, t) => sum + t.rt, 0) / localTrials.length).toFixed(0)
                    : '—';
                const noneRT = noneTrials.length > 0
                    ? (noneTrials.reduce((sum, t) => sum + t.rt, 0) / noneTrials.length).toFixed(0)
                    : '—';
                
                const globalErrors = data.filter(t => t.target === 2 && t.correct === 0).length;
                const localErrors = data.filter(t => t.target === 1 && t.correct === 0).length;
                const noneErrors = data.filter(t => t.target === 0 && t.correct === 0).length;
                
                setStats({
                    totalCompleted: data.length,
                    accuracy,
                    meanRT,
                    globalRT: globalRT !== '—' ? globalRT + ' ms' : '—',
                    localRT: localRT !== '—' ? localRT + ' ms' : '—',
                    noneRT: noneRT !== '—' ? noneRT + ' ms' : '—',
                    globalErrors,
                    localErrors,
                    noneErrors
                });
            };

            // Download CSV
            const downloadCSV = () => {
                let csv = 'ParticipantID,Trial,Stimulus,Level,TargetPresent,Response,Correct,RT_ms\n';
                
                trialData.forEach(trial => {
                    csv += `${participantId},${trial.trialNum},${trial.stimulus},${trial.level},${trial.targetPresent ? 'Yes' : 'No'},${trial.response},${trial.correct},${trial.rt}\n`;
                });
                
                const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                const url = URL.createObjectURL(blob);
                
                link.setAttribute('href', url);
                link.setAttribute('download', `navon_results_p${participantId}.csv`);
                link.style.visibility = 'hidden';
                
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            };

            // Restart experiment
            const restartExperiment = () => {
                setParticipantId('');
                setIdError('');
                setTrials([]);
                setCurrentTrialIndex(0);
                setTrialData([]);
                setFeedback('');
                setResponseGiven(false);
                setSection('entry');
            };

            // Entry Section
            if (section === 'entry') {
                return React.createElement(
                    'div',
                    { className: 'min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4' },
                    React.createElement(
                        'div',
                        { className: 'w-full max-w-md bg-slate-800 rounded-lg shadow-2xl p-8 border border-slate-700' },
                        React.createElement('h1', { className: 'text-3xl font-bold text-center mb-6 text-blue-400' }, 'Navon Task Experiment'),
                        React.createElement(
                            'div',
                            { className: 'bg-blue-900 bg-opacity-50 border-l-4 border-blue-400 p-4 mb-6 rounded' },
                            React.createElement('p', { className: 'text-sm text-blue-100 mb-2' }, 'Welcome to the Navon Task Experiment'),
                            React.createElement('p', { className: 'text-sm text-blue-100 mb-2' }, 'This experiment tests whether you perceive the global (large) or local (small) structure of visual stimuli first.'),
                            React.createElement('p', { className: 'text-sm text-blue-100' }, 'In this task, you will see large letters made up of small letters.')
                        ),
                        React.createElement(
                            'div',
                            { className: 'mb-6' },
                            React.createElement('label', { className: 'block text-sm font-semibold mb-2 text-gray-300' }, 'Enter Participant Number (3 digits):'),
                            React.createElement('input', {
                                type: 'text',
                                maxLength: '3',
                                placeholder: '000',
                                value: participantId,
                                onChange: (e) => {
                                    setParticipantId(e.target.value);
                                    setIdError('');
                                },
                                onKeyPress: (e) => {
                                    if (e.key === 'Enter') startExperiment();
                                },
                                className: 'w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded text-center text-white text-lg letter-spacing font-mono focus:outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-400'
                            }),
                            idError && React.createElement('div', { className: 'text-red-400 text-sm mt-2' }, idError)
                        ),
                        React.createElement(
                            'button',
                            {
                                onClick: startExperiment,
                                className: 'w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded transition'
                            },
                            'Start Experiment'
                        )
                    )
                );
            }

            // Instruction Section
            if (section === 'instruction') {
                return React.createElement(
                    'div',
                    { className: 'min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-4' },
                    React.createElement(
                        'div',
                        { className: 'max-w-2xl mx-auto bg-slate-800 rounded-lg shadow-2xl p-8 border border-slate-700' },
                        React.createElement('h1', { className: 'text-3xl font-bold text-center mb-4 text-blue-400' }, 'Navon Task - Instructions'),
                        React.createElement(
                            'div',
                            { className: 'bg-slate-700 bg-opacity-50 border-l-4 border-blue-400 p-4 mb-6 rounded' },
                            React.createElement('p', { className: 'text-lg font-semibold text-blue-200' }, 'Participant: ', React.createElement('span', { className: 'text-white' }, participantId))
                        ),
                        React.createElement(
                            'div',
                            { className: 'space-y-4 mb-8' },
                            React.createElement('div', null,
                                React.createElement('h2', { className: 'text-xl font-semibold text-blue-300 mb-2' }, 'Task Overview'),
                                React.createElement('p', { className: 'text-gray-300' }, 'You will see a series of large letters, each composed of small letters. Your task is to identify whether a target letter appears in each stimulus.')
                            ),
                            React.createElement('div', null,
                                React.createElement('h2', { className: 'text-xl font-semibold text-blue-300 mb-2' }, 'Target Letters'),
                                React.createElement('p', { className: 'text-gray-300 mb-1' }, React.createElement('strong', null, 'Global Level Target:'), ' The letter H at the large (global) scale'),
                                React.createElement('p', { className: 'text-gray-300 mb-1' }, React.createElement('strong', null, 'Local Level Target:'), ' The letter S at the small (local) scale'),
                                React.createElement('p', { className: 'text-gray-300' }, React.createElement('strong', null, 'No Target:'), ' Neither H at the global level nor S at the local level')
                            ),
                            React.createElement('div', null,
                                React.createElement('h2', { className: 'text-xl font-semibold text-blue-300 mb-2' }, 'Your Task'),
                                React.createElement('p', { className: 'text-gray-300 mb-3' }, 'When you see each stimulus, press one of the following keys as quickly and accurately as possible:'),
                                React.createElement(
                                    'div',
                                    { className: 'bg-yellow-900 bg-opacity-50 border border-yellow-600 rounded p-4 text-center' },
                                    React.createElement('p', { className: 'text-lg font-bold text-yellow-300 mb-2' }, 'Press B if you see H (global) OR S (local)'),
                                    React.createElement('p', { className: 'text-lg font-bold text-yellow-300' }, 'Press N if you see NEITHER H nor S')
                                ),
                                React.createElement('p', { className: 'text-gray-300 mt-4' }, 'You have 4 seconds to respond to each stimulus. There will be 50 trials total.')
                            )
                        ),
                        React.createElement(
                            'button',
                            {
                                onClick: startTrials,
                                className: 'w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded transition'
                            },
                            'Begin Trials'
                        )
                    )
                );
            }

            // Trial Section
            if (section === 'trial') {
                const trial = trials[currentTrialIndex];
                const progress = Math.round((currentTrialIndex / trials.length) * 100);
                const feedbackColor = feedback?.type === 'correct' ? 'bg-green-900' : feedback?.type === 'wrong' ? 'bg-red-900' : 'bg-yellow-900';
                const feedbackTextColor = feedback?.type === 'correct' ? 'text-green-400' : feedback?.type === 'wrong' ? 'text-red-400' : 'text-yellow-400';

                return React.createElement(
                    'div',
                    { className: 'min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex flex-col items-center justify-center p-4' },
                    React.createElement(
                        'div',
                        { className: 'w-full max-w-2xl bg-slate-800 rounded-lg shadow-2xl p-8 border border-slate-700' },
                        React.createElement('h1', { className: 'text-3xl font-bold text-center mb-4 text-blue-400' }, 'Navon Task - Trial'),
                        React.createElement(
                            'div',
                            { className: 'text-center mb-6' },
                            React.createElement('p', { className: 'text-sm text-gray-400' }, `Trial ${currentTrialIndex + 1} of ${trials.length}`),
                            React.createElement(
                                'div',
                                { className: 'w-full bg-gray-700 rounded-full h-2 mt-2' },
                                React.createElement('div', {
                                    className: 'bg-blue-600 h-2 rounded-full transition-all duration-300',
                                    style: { width: `${progress}%` }
                                })
                            )
                        ),
                        React.createElement(
                            'div',
                            { className: 'bg-gray-700 rounded-lg p-12 mb-6 flex items-center justify-center min-h-64' },
                            trial ? generateStimulusDisplay(trial.global, trial.local) : null
                        ),
                        feedback && React.createElement(
                            'div',
                            { className: `${feedbackColor} bg-opacity-50 border ${feedbackTextColor} border-current rounded-lg p-4 mb-6 text-center text-2xl font-bold` },
                            feedback.message
                        ),
                        React.createElement(
                            'div',
                            { className: 'bg-yellow-900 bg-opacity-50 border border-yellow-600 rounded p-4 text-center' },
                            React.createElement('p', { className: 'text-lg font-bold text-yellow-300 mb-1' }, 'Press B = Present | Press N = Not Present'),
                            React.createElement('p', { className: 'text-sm text-yellow-200' }, 'You have 4 seconds to respond')
                        )
                    )
                );
            }

            // Results Section
            if (section === 'results') {
                return React.createElement(
                    'div',
                    { className: 'min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-4' },
                    React.createElement(
                        'div',
                        { className: 'max-w-4xl mx-auto bg-slate-800 rounded-lg shadow-2xl p-8 border border-slate-700' },
                        React.createElement('h1', { className: 'text-3xl font-bold text-center mb-4 text-blue-400' }, 'Navon Task - Results'),
                        React.createElement(
                            'div',
                            { className: 'bg-slate-700 bg-opacity-50 border-l-4 border-blue-400 p-4 mb-6 rounded' },
                            React.createElement('p', { className: 'text-lg font-semibold text-blue-200' }, 'Participant: ', React.createElement('span', { className: 'text-white' }, participantId))
                        ),
                        React.createElement('h2', { className: 'text-2xl font-bold text-blue-300 mt-8 mb-4' }, 'Summary Statistics'),
                        React.createElement(
                            'div',
                            { className: 'grid grid-cols-1 md:grid-cols-3 gap-4 mb-8' },
                            React.createElement(
                                'div',
                                { className: 'bg-slate-700 bg-opacity-50 p-4 rounded border border-slate-600' },
                                React.createElement('p', { className: 'text-sm text-gray-400 mb-2' }, 'Total Trials'),
                                React.createElement('p', { className: 'text-2xl font-bold text-white' }, stats.totalCompleted)
                            ),
                            React.createElement(
                                'div',
                                { className: 'bg-slate-700 bg-opacity-50 p-4 rounded border border-slate-600' },
                                React.createElement('p', { className: 'text-sm text-gray-400 mb-2' }, 'Overall Accuracy'),
                                React.createElement('p', { className: 'text-2xl font-bold text-white' }, stats.accuracy + '%')
                            ),
                            React.createElement(
                                'div',
                                { className: 'bg-slate-700 bg-opacity-50 p-4 rounded border border-slate-600' },
                                React.createElement('p', { className: 'text-sm text-gray-400 mb-2' }, 'Mean RT'),
                                React.createElement('p', { className: 'text-2xl font-bold text-white' }, stats.meanRT + ' ms')
                            )
                        ),
                        React.createElement('h2', { className: 'text-2xl font-bold text-blue-300 mt-8 mb-4' }, 'By Condition'),
                        React.createElement(
                            'div',
                            { className: 'grid grid-cols-1 md:grid-cols-3 gap-4 mb-8' },
                            React.createElement(
                                'div',
                                { className: 'bg-slate-700 bg-opacity-50 p-4 rounded border border-slate-600' },
                                React.createElement('p', { className: 'text-sm text-gray-400 mb-2' }, 'Global (H) RT'),
                                React.createElement('p', { className: 'text-xl font-bold text-white mb-2' }, stats.globalRT),
                                React.createElement('p', { className: 'text-sm text-gray-400' }, 'Errors: ', React.createElement('span', { className: 'text-white font-bold' }, stats.globalErrors))
                            ),
                            React.createElement(
                                'div',
                                { className: 'bg-slate-700 bg-opacity-50 p-4 rounded border border-slate-600' },
                                React.createElement('p', { className: 'text-sm text-gray-400 mb-2' }, 'Local (S) RT'),
                                React.createElement('p', { className: 'text-xl font-bold text-white mb-2' }, stats.localRT),
                                React.createElement('p', { className: 'text-sm text-gray-400' }, 'Errors: ', React.createElement('span', { className: 'text-white font-bold' }, stats.localErrors))
                            ),
                            React.createElement(
                                'div',
                                { className: 'bg-slate-700 bg-opacity-50 p-4 rounded border border-slate-600' },
                                React.createElement('p', { className: 'text-sm text-gray-400 mb-2' }, 'No Target RT'),
                                React.createElement('p', { className: 'text-xl font-bold text-white mb-2' }, stats.noneRT),
                                React.createElement('p', { className: 'text-sm text-gray-400' }, 'Errors: ', React.createElement('span', { className: 'text-white font-bold' }, stats.noneErrors))
                            )
                        ),
                        React.createElement('h2', { className: 'text-2xl font-bold text-blue-300 mt-8 mb-4' }, 'Trial Data'),
                        React.createElement(
                            'div',
                            { className: 'overflow-x-auto' },
                            React.createElement(
                                'table',
                                { className: 'w-full text-sm border-collapse' },
                                React.createElement(
                                    'thead',
                                    null,
                                    React.createElement(
                                        'tr',
                                        { className: 'bg-blue-900 bg-opacity-50 border-b border-slate-600' },
                                        React.createElement('th', { className: 'px-3 py-2 text-left text-blue-300 font-semibold' }, 'Trial'),
                                        React.createElement('th', { className: 'px-3 py-2 text-left text-blue-300 font-semibold' }, 'Stimulus'),
                                        React.createElement('th', { className: 'px-3 py-2 text-left text-blue-300 font-semibold' }, 'Level'),
                                        React.createElement('th', { className: 'px-3 py-2 text-left text-blue-300 font-semibold' }, 'Response'),
                                        React.createElement('th', { className: 'px-3 py-2 text-left text-blue-300 font-semibold' }, 'Correct'),
                                        React.createElement('th', { className: 'px-3 py-2 text-left text-blue-300 font-semibold' }, 'RT (ms)')
                                    )
                                ),
                                React.createElement(
                                    'tbody',
                                    null,
                                    trialData.map((trial, idx) =>
                                        React.createElement(
                                            'tr',
                                            { key: idx, className: idx % 2 === 0 ? 'bg-slate-700 bg-opacity-30' : 'bg-slate-700 bg-opacity-10 border-b border-slate-700' },
                                            React.createElement('td', { className: 'px-3 py-2 text-gray-300' }, trial.trialNum),
                                            React.createElement('td', { className: 'px-3 py-2 text-gray-300' }, trial.stimulus),
                                            React.createElement('td', { className: 'px-3 py-2 text-gray-300' }, trial.level === 'global' ? 'Global (H)' : trial.level === 'local' ? 'Local (S)' : 'None'),
                                            React.createElement('td', { className: 'px-3 py-2 text-gray-300' }, trial.response),
                                            React.createElement('td', { className: `px-3 py-2 font-bold ${trial.correct ? 'text-green-400' : 'text-red-400'}` }, trial.correct ? 'Yes' : 'No'),
                                            React.createElement('td', { className: 'px-3 py-2 text-gray-300' }, trial.rt)
                                        )
                                    )
                                )
                            )
                        ),
                        React.createElement(
                            'div',
                            { className: 'flex gap-4 mt-8' },
                            React.createElement(
                                'button',
                                {
                                    onClick: downloadCSV,
                                    className: 'flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded transition'
                                },
                                'Download CSV'
                            ),
                            React.createElement(
                                'button',
                                {
                                    onClick: restartExperiment,
                                    className: 'flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded transition'
                                },
                                'Run Another Participant'
                            )
                        )
                    )
                );
            }
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(NavonTask));
    </script>
</body>
</html>
